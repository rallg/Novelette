%%
%% This is file Novelette-Fonts.sty,
%% part of Novelette document class.
%% Copyright 2022 Robert Allgeyer.
%%
%% It may be used, distributed, and/or modified under the
%% conditions of the MIT License. See:
%% https://opensource.org/licenses/MIT
%% 
%%
\ProvidesFile{Novelette-Fonts.sty}%
[2022/06/22 v0.0.1 LuaLaTeX file (font settings and defaults)]
%%


% The following might become unnecessary if fontspec adds the capability to
% disable keys. For now: Color and Opacity cannot be used as font features,
% for a black/white printed book. Alas, fontspec over-rules xcolor.
% So, this code over-rules fontspec:
\gdef\@CheckFontspecFeatures#1{%
  \@tempTFfalse%
  \IfSubStr{#1}{Color}{\@tempTFtrue}{}%
  \IfSubStr{#1}{Colour}{\@tempTFtrue}{}%
  \IfSubStr{#1}{color}{\@tempTFtrue}{}%
  \IfSubStr{#1}{colour}{\@tempTFtrue}{}%
  \IfSubStr{#1}{Opacity}{\@tempTFtrue}{}%
  \IfSubStr{#1}{opacity}{\@tempTFtrue}{}%
  \if@tempTF%
    \ClassError{Novelette}{Color and Opacity forbidden as font features}%
    {You defined a font, or added a font feature, with Color or Opacity. ^^J%
     That is disallowed in Novelette.}%
  \fi%
} % End \@CheckFontspecFeatures.

% Default font features (may be changed later):
\defaultfontfeatures{} % Reset.
\defaultfontfeatures{%
  SmallCapsFeatures={Renderer=Basic},Ligatures=TeX,Kerning=On%
} % All.


\setmainfont{Swainson}[Numbers=OldStyle,Ligatures=Common]
\newfontfamily\mainfont{Swainson}[Numbers=OldStyle,Ligatures=Common]
\newfontface\titlefont{SwainsonTitling}[Numbers=Lining,Scale=1.6]
\newfontfamily\subtitlefont{Swainson}[Numbers=Lining,Scale=1.25]
\IfFontExistsTF{Libertinus Serif}{
  \newfontfamily\delegate{Libertinus Serif}[Scale=MatchLowercase]
}{
  \let\delegate\relax
}
%%% \newfontfamily\decofont{#2}[#3] %%% Swainson 2.5 ?


%%
\endinput
%%
%% End of file Novelette-Fonts.sty.


